(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),o=(a(13),a(1)),l=a(2),c=a(4),m=a(3),u=a(5),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",password:""},a.handleChangeUser=function(e){a.setState({user:e.target.value})},a.handleChangePass=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onLoginClick(a.state.user,a.state.password)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("form",{className:"form-login"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputUsername1"},"Username "),r.a.createElement("input",{type:"Username",className:"form-control",id:"exampleInputUsername1","aria-describedby":"UsernameHelp",placeholder:"Enter username",value:this.state.user,onChange:this.handleChangeUser}),r.a.createElement("small",{id:"UsernameHelp",className:"form-text text-muted"},"We'll never share your Username with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",value:this.state.password,onChange:this.handleChangePass})),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Check me out")),r.a.createElement("button",{onClick:this.handleSubmit,type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),p=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",surname:"",email:"",user:"",password:""},a.handleChangeName=function(e){a.setState({name:e.target.value})},a.handleChangeSurname=function(e){a.setState({surname:e.target.value})},a.handleChangeEmail=function(e){a.setState({email:e.target.value})},a.handleChangeUser=function(e){a.setState({user:e.target.value})},a.handleChangePass=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(){a.props.onRegisterClick(a.state.name,a.state.surname,a.state.email,a.state.user,a.state.password)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("form",{className:"form-login"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputName1"},"Name "),r.a.createElement("input",{type:"name",className:"form-control",id:"exampleInputName1","aria-describedby":"NameHelp",placeholder:"Enter name",value:this.state.name,onChange:this.handleChangeName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputSurname1"},"Surname "),r.a.createElement("input",{type:"Surname",className:"form-control",id:"exampleInputSurname1","aria-describedby":"SurnameHelp",placeholder:"Enter surname",value:this.state.surname,onChange:this.handleChangeSurname})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email "),r.a.createElement("input",{type:"Email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"EmailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.handleChangeEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputUsername1"},"Username "),r.a.createElement("input",{type:"Username",className:"form-control",id:"exampleInputUsername1","aria-describedby":"UsernameHelp",placeholder:"Enter username",value:this.state.user,onChange:this.handleChangeUser}),r.a.createElement("small",{id:"UsernameHelp",className:"form-text text-muted"},"We'll never share your Username with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",value:this.state.password,onChange:this.handleChangePass})),r.a.createElement("button",{onClick:this.handleSubmit,type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),d=sessionStorage;d.getItem("postits")||d.setItem("postits",JSON.stringify([])),d.getItem("users")||d.setItem("users",JSON.stringify([]));var f={storage:d,Postit:function e(t,a){Object(o.a)(this,e),this.text=t,this.id=Date.now(),this.user=a},User:function e(t,a,n,r,s){Object(o.a)(this,e),this.name=t,this.surname=a,this.email=n,this.username=r,this.password=s,this.id=Date.now()}},g=f.storage,b=f.Postit,E=f.User,y={createUser:function(e,t,a,n,r){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if("string"!==typeof a)throw TypeError("".concat(a," is not a string"));if("string"!==typeof n)throw TypeError("".concat(n," is not a string"));if("string"!==typeof r)throw TypeError("".concat(r," is not a string"));if(!e.trim())throw Error("name is empty or blank");if(!t.trim())throw Error("surname is empty or blank");if(!a.trim())throw Error("email is empty or blank");if(!n.trim())throw Error("username is empty or blank");if(!r.trim())throw Error("password is empty or blank");var s=new E(e,t,a,n,r),i=this.listUsers();i.push(s),this.persistUsers(i)},loginUser:function(e,t){var a=this.listUsers().find(function(a){return a.username===e&&a.password===t});if(!a)throw Error("wrong credentials");return a.id},listUsers:function(){return JSON.parse(g.getItem("users"))},persistUsers:function(e){g.setItem("users",JSON.stringify(e))},createPostit:function(e,t){var a=new b(e,t),n=this.listPostits();n.push(a),this.persistPostits(n)},listPostits:function(){return JSON.parse(g.getItem("postits"))},listPostitsByUser:function(e){if("number"!==typeof e)throw new TypeError("".concat(e," is not a number"));return this.listPostits().filter(function(t){return t.user===e})},persistPostits:function(e){g.setItem("postits",JSON.stringify(e))},deletePostit:function(e){var t=this.listPostits();t=t.filter(function(t){return t.id!==e}),this.persistPostits(t)},editPost:function(e){document.getElementById(e).disabled=!1},UpdatePostit:function(e,t,a,n){var r=this.listPostits();r.splice(t,1,{text:a,id:e,user:n}),this.persistPostits(r)}},v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.handleChange=function(e){a.setState({text:e.target.value})},a.handleClick=function(){a.props.onClick(a.state.text),a.setState({text:""})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("InputForm","render"),r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("img",{src:"http://assets.stickpng.com/thumbs/5b06c23efad1cae04539afe5.png",alt:""})),r.a.createElement("div",{className:"form"},r.a.createElement("textarea",{placeholder:"input your new postit",value:this.state.text,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.handleClick},"Add Postit")))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={text:a.props.text},a.handleChange=function(e){var t=e.target.value;a.setState({text:t})},a.handleBlur=function(){a.props.onUpdatePost(a.props.id,a.props.index,a.state.text)},a.handleEdit=function(){a.props.onEdit(a.props.id)},a.handleDelete=function(){a.props.onDelete(a.props.id)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{onClick:this.handleEdit,onBlur:this.handleBlur,className:"post"},r.a.createElement("textarea",{onChange:this.handleChange,id:this.props.id,className:"transparent",defaultValue:this.props.text}),r.a.createElement("button",{onClick:this.handleDelete},"x"))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={postits:y.listPostitsByUser(a.props.onHomeClick)},a.handleClick=function(e){y.createPostit(e,a.props.onHomeClick),a.setState({postits:y.listPostitsByUser(a.props.onHomeClick)})},a.handleDelete=function(e){y.deletePostit(e),a.setState({postits:y.listPostitsByUser(a.props.onHomeClick)})},a.handleUpdatePost=function(e,t,n){y.UpdatePostit(e,t,n,a.props.onHomeClick),a.setState({postits:y.listPostitsByUser(a.props.onHomeClick)})},a.handleEdit=function(e){y.editPost(e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v,{onClick:this.handleClick}),r.a.createElement("section",{className:"section-articles"},this.state.postits.map(function(t,a){return r.a.createElement(C,{onDelete:e.handleDelete,key:t.id,index:a,text:t.text,id:t.id,onEdit:e.handleEdit,onUpdatePost:e.handleUpdatePost})})))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={register:!1,login:!1,home:!1,user:""},a.handleRegister=function(){a.setState({register:!0})},a.handleLogin=function(){a.setState({login:!0})},a.handleHome=function(){a.setState({home:!0}),a.setState({login:!1})},a.handleRegisterClick=function(e,t,n,r,s){try{y.createUser(e,t,n,r,s),a.setState({login:!0,register:!1})}catch(i){console.error(i.message)}},a.handleLoginClick=function(e,t){try{var n=y.loginUser(e,t);a.setState({user:n},a.handleHome)}catch(r){console.error(r.message)}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.register,a=e.login,n=e.home,s=e.user;return r.a.createElement("section",{className:"landing"},!t&&!a&&!n&&r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-padding",onClick:this.handleRegister},"Register"),!t&&!a&&!n&&r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-lg",onClick:this.handleLogin},"Login"),t&&r.a.createElement(p,{onRegisterClick:this.handleRegisterClick}),a&&r.a.createElement(h,{onLoginClick:this.handleLoginClick}),n&&r.a.createElement(w,{onHomeClick:s}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(15)}},[[8,2,1]]]);
//# sourceMappingURL=main.48740f56.chunk.js.map